# Eino æ™ºèƒ½èŠå¤©æœºå™¨äºº

åŸºäº CloudWeGo Eino æ¡†æ¶å¼€å‘çš„æ™ºèƒ½èŠå¤©æœºå™¨äººç³»ç»Ÿï¼Œæ”¯æŒé¢„è®¾æ€§æ ¼å’ŒèƒŒæ™¯è®¾å®šã€‚

## âœ¨ ç‰¹æ€§

- ğŸ¤– **é¢„è®¾æ€§æ ¼ä¸èƒŒæ™¯**ï¼šå¯ä»¥ä¸ºæ¯ä¸ªèŠå¤©æœºå™¨äººè®¾å®šç‹¬ç‰¹çš„æ€§æ ¼å’ŒèƒŒæ™¯
- ğŸ’¬ **å¤šè½®å¯¹è¯**ï¼šæ”¯æŒä¸Šä¸‹æ–‡è®°å¿†ï¼Œä¿æŒå¯¹è¯è¿è´¯æ€§
- ğŸ”„ **æµå¼å“åº”**ï¼šæ”¯æŒå®æ—¶æµå¼è¾“å‡ºï¼ˆå¯é€‰ï¼‰
- ğŸ“¦ **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„æ¶æ„ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
- ğŸš€ **ç”Ÿäº§å°±ç»ª**ï¼šç¬¦åˆGoå·¥ç¨‹è§„èŒƒï¼ŒåŒ…å«é”™è¯¯å¤„ç†ã€æ—¥å¿—ã€é…ç½®ç®¡ç†ç­‰

## ğŸ“ é¡¹ç›®ç»“æ„

```
eino/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/          # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ agent/           # èŠå¤©æœºå™¨äººæ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ config/          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ handler/         # HTTPå¤„ç†å™¨
â”‚   â”œâ”€â”€ model/           # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ storage/         # å­˜å‚¨å±‚ï¼ˆæ”¯æŒå†…å­˜ã€MySQLã€Redisï¼‰
â”œâ”€â”€ configs/             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ docs/                # æ–‡æ¡£
â””â”€â”€ go.mod
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Go 1.21+
- Ollamaï¼ˆç”¨äºæœ¬åœ°æ¨¡å‹ï¼‰æˆ–é…ç½®å…¶ä»–LLMæœåŠ¡

### å®‰è£…ä¾èµ–

```bash
go mod download
```

### é…ç½®

ç¼–è¾‘ `configs/config.yaml`ï¼š

```yaml
server:
  address: ":8080"
  mode: "release"

model:
  provider: "ollama"
  base_url: "http://localhost:11434"
  model: "deepseek-r1:8b"

agent:
  max_history: 20
  temperature: 0.7
```

### è¿è¡Œ

```bash
go run cmd/server/main.go
```

æœåŠ¡å°†åœ¨ `http://localhost:8080` å¯åŠ¨ã€‚

## ğŸ“¡ API æ–‡æ¡£

### åˆ›å»ºèŠå¤©æœºå™¨äºº

```bash
POST /api/v1/chatbots
Content-Type: application/json

{
  "name": "å°åŠ©æ‰‹",
  "personality": "ä½ æ˜¯ä¸€ä¸ªå‹å¥½ã€å¹½é»˜çš„AIåŠ©æ‰‹ï¼Œå–œæ¬¢ç”¨emojiè¡¨æƒ…ï¼Œè¯´è¯é£æ ¼è½»æ¾æ´»æ³¼ã€‚",
  "background": "ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„æŠ€æœ¯é¡¾é—®ï¼Œæ“…é•¿è§£ç­”ç¼–ç¨‹é—®é¢˜ï¼Œå¯¹Goè¯­è¨€ç‰¹åˆ«ç†Ÿæ‚‰ã€‚"
}
```

å“åº”ï¼š
```json
{
  "id": "uuid",
  "name": "å°åŠ©æ‰‹",
  "personality": "...",
  "background": "...",
  "system_prompt": "...",
  "created_at": "2025-01-XX...",
  "updated_at": "2025-01-XX..."
}
```

### è¿›è¡Œå¯¹è¯

```bash
POST /api/v1/chatbots/{chatbot_id}/chat
Content-Type: application/json

{
  "message": "ä½ å¥½ï¼Œä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±"
}
```

å“åº”ï¼š
```json
{
  "message": "ä½ å¥½ï¼æˆ‘æ˜¯å°åŠ©æ‰‹...",
  "duration": 1234,
  "timestamp": "2025-01-XX..."
}
```

### è·å–å¯¹è¯å†å²

```bash
GET /api/v1/chatbots/{chatbot_id}/history?limit=20
```

### è·å–æ‰€æœ‰èŠå¤©æœºå™¨äºº

```bash
GET /api/v1/chatbots
```

### è·å–æŒ‡å®šèŠå¤©æœºå™¨äºº

```bash
GET /api/v1/chatbots/{chatbot_id}
```

### åˆ é™¤èŠå¤©æœºå™¨äºº

```bash
DELETE /api/v1/chatbots/{chatbot_id}
```

## ğŸ³ Docker éƒ¨ç½²

### æ„å»ºé•œåƒ

```bash
docker build -t eino-chatbot .
```

### è¿è¡Œå®¹å™¨

```bash
docker run -d \
  -p 8080:8080 \
  -v $(pwd)/configs:/app/configs \
  eino-chatbot
```

## ğŸ”§ é…ç½®è¯´æ˜

### æ¨¡å‹é…ç½®

- `provider`: æ¨¡å‹æä¾›å•†ï¼ˆollama, openai, anthropicï¼‰
- `base_url`: æ¨¡å‹æœåŠ¡åœ°å€
- `model`: æ¨¡å‹åç§°
- `timeout`: è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

### Agenté…ç½®

- `max_retries`: æœ€å¤§é‡è¯•æ¬¡æ•°
- `timeout`: Agentè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
- `max_tokens`: æœ€å¤§tokenæ•°
- `temperature`: æ¸©åº¦å‚æ•°ï¼ˆ0-1ï¼‰
- `max_history`: æœ€å¤§å¯¹è¯å†å²æ¡æ•°
- `enable_stream`: æ˜¯å¦å¯ç”¨æµå¼å“åº”

### å­˜å‚¨é…ç½®

- `type`: å­˜å‚¨ç±»å‹ï¼ˆmemory, mysql, redisï¼‰
- æ”¯æŒMySQLå’ŒRedisæŒä¹…åŒ–å­˜å‚¨ï¼ˆéœ€å®ç°å¯¹åº”å­˜å‚¨å±‚ï¼‰

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ ¸å¿ƒç»„ä»¶

1. **ChatService**: èŠå¤©æœåŠ¡æ ¸å¿ƒï¼Œè´Ÿè´£ä¸LLMäº¤äº’
2. **Storage**: å­˜å‚¨æŠ½è±¡å±‚ï¼Œæ”¯æŒå¤šç§å­˜å‚¨åç«¯
3. **Handler**: HTTPè¯·æ±‚å¤„ç†å±‚
4. **Config**: é…ç½®ç®¡ç†

### æ•°æ®æµ

```
ç”¨æˆ·è¯·æ±‚ â†’ Handler â†’ ChatService â†’ LLM Model
                â†“
            Storage (ä¿å­˜å¯¹è¯å†å²)
```

## ğŸ“ å¼€å‘è§„èŒƒ

- éµå¾ªGoæ ‡å‡†é¡¹ç›®å¸ƒå±€
- ä½¿ç”¨æ¥å£æŠ½è±¡ï¼Œä¾¿äºæ‰©å±•
- å®Œå–„çš„é”™è¯¯å¤„ç†
- æ¸…æ™°çš„ä»£ç æ³¨é‡Š
- ç»Ÿä¸€çš„ä»£ç é£æ ¼

## ğŸ”® æœªæ¥è®¡åˆ’

- [ ] MySQL/Rediså­˜å‚¨å®ç°
- [ ] Milvuså‘é‡æ•°æ®åº“é›†æˆï¼ˆRAGæ”¯æŒï¼‰
- [ ] æµå¼å“åº”API
- [ ] å¤šAgentåä½œ
- [ ] å·¥å…·è°ƒç”¨ï¼ˆTool Callingï¼‰
- [ ] ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ
- [ ] æ€§èƒ½ä¼˜åŒ–

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

